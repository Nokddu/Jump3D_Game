3D Platformer Action Game
1. 프로젝트 소개
본 프로젝트는 플레이어가 다양한 장애물을 극복하고 목표 지점까지 도달하는 간단한 3D 플랫폼 액션 게임입니다. 유니티의 다양한 기능을 학습하고, 좋은 코드 구조에 대해 고민하며 개발하는 것을 목표로 진행되었습니다.

단순한 기능 구현을 넘어, Interface, Delegate, Singleton 등의 디자인 패턴을 적극적으로 활용하여 유지보수와 확장이 용이한 설계를 적용하고자 노력했습니다.

2. 주요 기능
플레이어 조작:

이동: W, A, S, D 키를 이용한 전후좌우 이동

점프: Space 키를 이용한 점프

달리기: Left Shift 키를 누르는 동안 더 빠른 속도로 질주 (스테미너 소모)

시점 전환:

F 키를 누를 때마다 1인칭과 3인칭 시점을 자유롭게 전환할 수 있습니다.

스테미너 시스템:

화면 우측 하단에 현재 스테미너가 UI로 표시됩니다.

달리기나 점프 등 특정 행동 시 스테미너가 소모되며, 가만히 있을 때 자동으로 회복됩니다.

소모성 아이템(Consumable):

맵에 배치된 3종류의 아이템과 상호작용하여 버프 효과를 얻을 수 있습니다.

Stamina: 스테미너 즉시 회복

Jump: 일정 시간 동안 점프 높이 증가

Speed: 일정 시간 동안 이동 속도 증가

상호작용 가능한 장애물:

좌우로 움직이는 발판, 플레이어를 밀어내는 장애물 등 다양한 기믹을 구현했습니다.

3. 기술적 특징 및 설계 고민
본 프로젝트는 '돌아가는 코드'를 넘어 '좋은 코드'를 작성하기 위해 다음과 같은 설계 원칙을 적용했습니다.

Unity Input System: 새로운 Input System을 사용하여 모든 입력을 관리, 유연하고 확장 가능한 조작 체계를 구축했습니다.

이벤트 기반 설계 (Event & Delegate): event Action을 활용하여 '플레이어의 행동'과 '스테미너 수치 변화'를 분리했습니다. PlayerController는 스테미너를 사용했다는 '방송'만 송출하고, Player_Condition이 이를 '구독'하여 실제 값을 처리하는 옵저버 패턴을 구현함으로써 스크립트 간의 결합도를 크게 낮췄습니다.

인터페이스 기반 상호작용: IInteractable 인터페이스를 설계하여, 플레이어가 상호작용하는 모든 오브젝트(아이템, 장애물 등)를 동일한 방식으로 처리할 수 있도록 구현했습니다. 이를 통해 새로운 상호작용 오브젝트를 추가하더라도 플레이어 코드를 수정할 필요가 없는 유연한 구조를 만들었습니다.

싱글톤 패턴: Character_Manager, UI_Manager 등 게임 전역에서 접근해야 하는 핵심 관리자들을 싱글톤으로 구현하여, 어디서든 안정적으로 데이터에 접근할 수 있는 통로를 마련했습니다.

4. 주요 트러블 슈팅 (Troubleshooting)
개발 과정에서 마주쳤던 주요 문제들과 해결 과정을 기록합니다.

문제: 점프 불가 현상 (Raycast 디버깅)

원인: IsGrounded()의 Raycast 길이가 캐릭터의 Pivot(중심점)으로부터 발밑까지 닿기에 너무 짧았습니다.

해결: Debug.DrawRay로 레이저를 시각화하며 원인을 파악했고, 캐릭터의 높이를 고려하여 Ray의 감지 거리를 1.2f로 늘려 문제를 해결했습니다.

문제: 카메라 전환 시 오디오 소실 문제 예측 및 예방

상황: 1인칭/3인칭 카메라 전환 시, GameObject를 SetActive로 껐다 켜는 방식을 고려했습니다.

예상 문제: 이 방식은 메인 카메라에 붙어있는 Audio Listener까지 비활성화시켜 사운드 문제를 유발할 수 있음을 예측했습니다.

해결: Audio Listener는 부모 오브젝트에 위치시켜 항상 활성화 상태를 유지하고, 각 카메라의 Camera 컴포넌트만 .enabled로 껐다 켜는 방식으로 설계하여 문제를 원천적으로 방지했습니다.

문제: 이벤트 구독 시 NullReferenceException 발생

원인: 스크립트 실행 순서 문제. Player_Condition의 OnEnable()이 Player의 Awake()보다 먼저 실행되어, 아직 초기화되지 않은 controller에 접근하려다 에러가 발생했습니다.

해결: 다른 컴포넌트를 참조하여 초기화하는 코드는, 모든 Awake()가 끝난 뒤에 실행되는 것이 보장되는 Start() 함수로 옮겨 실행 순서 문제를 해결했습니다.

문제: 프리팹 값 미적용

원인: 씬에 있는 게임 오브젝트의 인스펙터 값을 수정한 뒤, 이를 원본 프리팹에 'Apply Overrides' 하는 것을 누락하여 값이 적용되지 않는 문제가 발생했습니다.

해결: 프리팹 작업 시, 씬에서 수정한 내용은 반드시 원본 프리팹에 적용(Apply) 또는 반영 취소(Revert)하는 습관의 중요성을 깨달았습니다.
